from django.shortcuts import render

# Create your views here.

from django.http import HttpResponse
from django.shortcuts import get_object_or_404
from django.shortcuts import redirect

from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework import status
from .models import Malwarelist
from .serializers import MalwareSerializer


class MalwareView(APIView):

    def get(self, request, new_site):
        url_list = Malwarelist.objects.all()
        serializer = MalwareSerializer(url_list, many=True)

        path_info = request.META.get('PATH_INFO')
        http_host = request.META.get('HTTP_HOST')

        test = Malwarelist.objects.filter(url=new_site)

        return Response(test.exists())

        #return Response(serializer.data)  # Return JSON

        # return redirect('https://www.espn.com')


        # return Response(http_host)
        # return Response(path_info)
        #return Response("hello")

    #def post(self):
        #pass